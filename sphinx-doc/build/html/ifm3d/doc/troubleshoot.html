<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ifm3d - Troubleshooting Guide &mdash; O3R  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> O3R
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/O3R/README.html">O3R</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx/content/installation_instructions.html">Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx/cli_link.html">Command Line tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx/python_api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx/cpp_api/annotated.html">C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx/index.html">Indices and tables</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">O3R</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>ifm3d - Troubleshooting Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/ifm3d/doc/troubleshoot.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="ifm3d-troubleshooting-guide">
<h1>ifm3d - Troubleshooting Guide<a class="headerlink" href="#ifm3d-troubleshooting-guide" title="Permalink to this headline"></a></h1>
<p>You can use this guide to help you identify and resolve basic problems you may
be experiencing with ifm3d library or ifm 3d cameras.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="select-the-troubleshooting-options">
<h1>Select the troubleshooting options<a class="headerlink" href="#select-the-troubleshooting-options" title="Permalink to this headline"></a></h1>
<ul class="simple">
<li><p><a class="reference external" href="#Connecting-the-camera">Connecting the camera</a></p></li>
<li><p><a class="reference external" href="#ifm3d-logging">ifm3d logging</a></p></li>
<li><p><a class="reference external" href="#ifm3d-not-found">ifm3d not found</a></p></li>
<li><p><a class="reference external" href="#waitforframe-timeout">WaitForFrame Timeout</a></p></li>
</ul>
<section id="connecting-the-camera">
<h2>Connecting the camera<a class="headerlink" href="#connecting-the-camera" title="Permalink to this headline"></a></h2>
<p>While connecting to device through ifm3d e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    $ ifm3d ls
</pre></div>
</div>
<p>if you get following error message</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ifm3d error: -100001
Lib: XMLRPC Timeout - can you `ping&#39; the sensor?
</pre></div>
</div>
<p>This shows that ifm3d is not able to connect to device on your network.</p>
<p>Following are some guidelines to troubleshoot this issue</p>
<section id="provide-the-device-ip-address-to-the-ifm3d">
<h3>Provide the device IP address to the ifm3d<a class="headerlink" href="#provide-the-device-ip-address-to-the-ifm3d" title="Permalink to this headline"></a></h3>
<p>ifm3d by default connects to the default IP &lt;”192.168.0.69”&gt;, one can also pass
the IP through enviornment variable IFM3D_IP and for command line tools through
<code class="docutils literal notranslate"><span class="pre">--ip</span></code> switch. To get the application list from camera one can use following
command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    $ ifm3d --ip=192.168.0.69 ls
    $ IFM3D_IP=192.168.0.69 ifm3d ls
</pre></div>
</div>
</section>
<section id="check-if-you-can-ping-the-camera">
<h3>Check if you can ping the camera<a class="headerlink" href="#check-if-you-can-ping-the-camera" title="Permalink to this headline"></a></h3>
<p>Power on the network and camera and check if you are able to ping the
camera. If not successfull check for the physical connections.</p>
</section>
<section id="if-you-are-behind-the-proxy-network">
<h3>If you are behind the proxy network<a class="headerlink" href="#if-you-are-behind-the-proxy-network" title="Permalink to this headline"></a></h3>
<p>Ping to device might not be successful if you are under proxy network, to
resolve this issue one needs to bypass the proxy for the device address. A
quick fix is to set the environment variable <code class="docutils literal notranslate"><span class="pre">no_proxy</span></code> to the IP address of
the device. If you are working with multiple devices it is always good to
bypass the required IP’s in <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> file as shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    $ vi ~/.bashrc
    no_proxy=&quot;127.0.0.1, localhost,  192.168.0.69, 192.168.0.70, 192.168.1.* &quot;
</pre></div>
</div>
</section>
<section id="dhcp-enabled-device-on-dhcp-network">
<h3>DHCP enabled device on DHCP network<a class="headerlink" href="#dhcp-enabled-device-on-dhcp-network" title="Permalink to this headline"></a></h3>
<p>On Windows, use IVA
<a class="reference external" href="https://www.ifm.com/de/de/product/E3D300">ifm Vision Assistant</a> software to
search the device on the network and obtain the IP Address of device</p>
<p>On Linux,use following command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> $ avahi-browse -arp 2&gt;/dev/null | grep  ^=.*O3D.*Workstation
</pre></div>
</div>
</section>
</section>
<section id="ifm3d-logging">
<h2>ifm3d logging<a class="headerlink" href="#ifm3d-logging" title="Permalink to this headline"></a></h2>
<p>This section will help you to understand the different log levels used in ifm3d</p>
<section id="ifm3d-log-levels">
<h3>ifm3d log levels<a class="headerlink" href="#ifm3d-log-levels" title="Permalink to this headline"></a></h3>
<p>ifm3d defines several severity levels in its logging subsystem. These are
defined <span class="xref myst">here</span>. The
primarily used log levels are <code class="docutils literal notranslate"><span class="pre">IFM3D_TRACE</span></code> and <code class="docutils literal notranslate"><span class="pre">IFM3D_PROTO_DEBUG</span></code>. The former
is used for logging general flow control of the software at a verbosity level
suitable for debugging general issues, while the latter helps debug issues
associated with the wire protocol between this library and the hardware.</p>
</section>
<section id="increasing-the-log-levels-at-runtime">
<h3>Increasing the log levels at runtime<a class="headerlink" href="#increasing-the-log-levels-at-runtime" title="Permalink to this headline"></a></h3>
<p>When running the <code class="docutils literal notranslate"><span class="pre">ifm3d</span></code> command-line program or your own program which linked
to an <code class="docutils literal notranslate"><span class="pre">ifm3d</span></code> shared library, the logging can be turned up to get more
info. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    $ IFM3D_VLOG=15 ifm3d config &lt; foo.json
</pre></div>
</div>
<p>The log output can be found at <code class="docutils literal notranslate"><span class="pre">/tmp/ifm3d.INFO</span></code> There is a file for each log
level <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>, and <code class="docutils literal notranslate"><span class="pre">ERROR</span></code>.</p>
</section>
<section id="changing-the-log-directory">
<h3>Changing the log directory<a class="headerlink" href="#changing-the-log-directory" title="Permalink to this headline"></a></h3>
<p>You can also change the GLog log directory with following commad</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    $ GLOG_log_dir=&lt;user log dir path&gt; ifm3d config &lt; foo.json
</pre></div>
</div>
<p>For more help on GLOG visit
<a class="reference external" href="https://godoc.org/github.com/golang/glog#pkg-files">Glog Document</a></p>
</section>
</section>
<section id="ifm3d-not-found">
<h2>ifm3d not found<a class="headerlink" href="#ifm3d-not-found" title="Permalink to this headline"></a></h2>
<p>This might occur if ifm3d is not installed properly.</p>
<section id="troubleshoot-on-windows">
<h3>Troubleshoot on Windows<a class="headerlink" href="#troubleshoot-on-windows" title="Permalink to this headline"></a></h3>
<p>Set the ifm3d executable path in the enviornment path of the system. This is
explained very well
<a class="reference external" href="https://github.com/ifm/ifm3d/blob/master/doc/windows.md#running-ifm3d-tool-on-windows">here</a>.</p>
</section>
<section id="troubleshoot-on-linux">
<h3>Troubleshoot on Linux<a class="headerlink" href="#troubleshoot-on-linux" title="Permalink to this headline"></a></h3>
<p>Use intruction at the https://github.com/ifm/ifm3d#the-default-build to
build and install the library on Linux.</p>
</section>
</section>
<section id="waitforframe-timeout">
<h2>WaitForFrame Timeout<a class="headerlink" href="#waitforframe-timeout" title="Permalink to this headline"></a></h2>
<p>During runtime it can occur that the camera reports a Timeout when calling for
example <code class="docutils literal notranslate"><span class="pre">fg-&gt;WaitForFrame(im.get(),</span> <span class="pre">1000)</span></code>.
This can be caused by an issue on the camera possible root causes:</p>
<ul class="simple">
<li><p>Overheat, due to the active illumination and the configuration it can appear
that the camera is getting too hot.
So the camera needs to stop the image acquisition until it is cooled down.</p></li>
<li><p>Issues with the power supply. The O3D3XX does have an internal power supply
monitoring. If an under or over voltage  situation is detected the image
acquisition is also stopped.</p></li>
<li><p>Other none recoverable hardware issues detected by the on board camera
diagnostics.</p></li>
</ul>
<p>During development and for getting support on <a class="reference external" href="https://github.com/ifm/ifm3d/issues">GitHub</a>
the <code class="docutils literal notranslate"><span class="pre">ifm3d</span> <span class="pre">trace</span></code> command is a powerful information source.</p>
<p>Within your application the trace command is not suitable for diagnostic. A
better source of information are the asynchronous notifications send by the camera. You can use the
<code class="docutils literal notranslate"><span class="pre">pcicclient</span></code> module to receive those notifications and error messages. Please
take a look at the example code provided by
<a class="reference external" href="https://github.com/ifm/ifm3d-examples/tree/master/pcicclient_async_messages">ifm3d-examples</a>
the anotated list of error codes is provided in the doc folder
<span class="xref myst">doc/pcic_async_errors.md</span>.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, ifm CSR.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>