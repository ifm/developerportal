<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>getRack &mdash; O3R  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=5800d392" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=d9f55abb"></script>
        <script src="../../_static/js/versionwarning.js?v=d4224a34"></script>
        <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <!-- Google tag (gtag.js) -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZZ08KXKV1G"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ZZ08KXKV1G');
    </script> -->
     

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            O3R
          </a>
              <div class="version">
                v1.4.32
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GettingStarted/index_getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Firmware/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CompatibilityMatrix/compatibility_matrix.html">Compatibility Matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Technology/index_technology.html">Technology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_software_interfaces.html">Software Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CalibrationRoutines/index_calibrations.html">Calibration Routines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ODS/index_ods.html">ODS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../FAQ/FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../downloadable/index.html">History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">O3R</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">getRack</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/PDS/GetRack/getRack.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getrack">
<h1><code class="docutils literal notranslate"><span class="pre">getRack</span></code><a class="headerlink" href="#getrack" title="Link to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">getRack</span></code> functionality of PDS is designed to help an AGV safely place a pallet or load into a standard racking system. The <code class="docutils literal notranslate"><span class="pre">getRack</span></code> function has two phases:</p>
<ol class="arabic simple">
<li><p>Detection of the position of the rack,</p></li>
<li><p>Detection of any obstacle present within a specified volume.</p></li>
</ol>
<p><img alt="" src="../../_images/getRack_result_array.png" /></p>
<p>In the above picture, the vertical blue line represents the estimated inner edge of the upright structure, and the horizontal green line represents the estimated upper edge of the horizontal beam, constituting the shelf on which the pallet will be placed.</p>
<section id="coordinate-system">
<h2>Coordinate system<a class="headerlink" href="#coordinate-system" title="Link to this heading"></a></h2>
<p>The origin of the rack coordinate system is the intersection of the detected upright and the beam, on the plane formed by the beam and the upright’s front faces.
If the detected upright and beam do not intersect, the origin of the rack coordinate will be placed at the intersection of the horizontal beam and the line which is orthogonal to both the beam and the upright.
If the left upright is segmented then the Y-axis of the established rack coordinate system points to the right and if the right upright is segmented then the Y-axis will point towards the left.</p>
</section>
<section id="input">
<h2>Input<a class="headerlink" href="#input" title="Link to this heading"></a></h2>
<section id="command">
<h3>Command<a class="headerlink" href="#command" title="Link to this heading"></a></h3>
<p>The input to the <code class="docutils literal notranslate"><span class="pre">getRack</span></code> command must be provided in JSON.
Below is an example, assuming an instantiated PDS app <code class="docutils literal notranslate"><span class="pre">app0</span></code>:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;applications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;instances&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;app0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;customization&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;getRack&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;getRack&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;depthHint&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;horizontalDropPosition&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;verticalDropPosition&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;interior&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;zHint&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.4</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;clearingVolume&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;xMax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;xMin&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.1</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;yMax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;yMin&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;zMax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;zMin&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}}</span>
</pre></div>
</div>
</section>
<section id="depthhint">
<h3><code class="docutils literal notranslate"><span class="pre">depthHint</span></code><a class="headerlink" href="#depthhint" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">depthHint</span></code></p></td>
<td><p>The depth hint is an approximate distance in meters along the X-axis from the origin of the reference coordinate system (typically the fork tines coordinate system) to the plane corresponding to the front face of the beam.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="horizontaldropposition">
<h3><code class="docutils literal notranslate"><span class="pre">horizontalDropPosition</span></code><a class="headerlink" href="#horizontaldropposition" title="Link to this heading"></a></h3>
<p>The drop operation of the pallet is based on the <code class="docutils literal notranslate"><span class="pre">horizontalDropPosition</span></code> parameter.
There are three configurations available for this parameter:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">horizontalDropPosition</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">left</span></code> or <code class="docutils literal notranslate"><span class="pre">right</span></code> if the drop operation has to take place on the left or right side of the shelf respectively. The corresponding left or right upright of the rack is considered as a reference. <br><code class="docutils literal notranslate"><span class="pre">center</span></code> if the user wishes to drop the pallet in the space between the loads already placed on each sides. In this case, the algorithm can use a detected up-beam on either side or another pallet on the same rack as a reference. The algorithm will sweep the beam left to right and the search stops when enough pixels are detected to form an upright candidate. If no reference is found on either side, the leftmost part of the horizontal beam will be used.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="verticaldropposition">
<h3><code class="docutils literal notranslate"><span class="pre">verticalDropPosition</span></code><a class="headerlink" href="#verticaldropposition" title="Link to this heading"></a></h3>
<p>This parameter informs the PDS about the drop location of the pallet.
Depending on the vertical drop position, this parameter can be configured as:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">verticalDropPosition</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">interior</span></code> (default) if the load has to be placed on a horizontal beam. <br><code class="docutils literal notranslate"><span class="pre">floor</span></code>: if the horizontal beam is absent and the load has to be placed directly on the floor.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="zhint">
<h3><code class="docutils literal notranslate"><span class="pre">zHint</span></code><a class="headerlink" href="#zhint" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zHint</span></code></p></td>
<td><p>Approximate distance in meters along the Z-axis from the origin of the reference coordinate system (typically the fork tines coordinate system) to the upper edge of the horizontal beam on which the load is expected to be placed. <br><code class="docutils literal notranslate"><span class="pre">getRack</span></code> uses this value to optimize the search volume (and thus performance). <br>The Z-hint should be within +/- 0.1 m of the true height of the front beam.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="clearingvolume">
<h3><code class="docutils literal notranslate"><span class="pre">clearingVolume</span></code><a class="headerlink" href="#clearingvolume" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">clearingVolume</span></code></p></td>
<td><p>Volume, defined by its <code class="docutils literal notranslate"><span class="pre">xMin</span></code>, <code class="docutils literal notranslate"><span class="pre">xMax</span></code>, <code class="docutils literal notranslate"><span class="pre">yMin</span></code>, <code class="docutils literal notranslate"><span class="pre">yMax</span></code>, <code class="docutils literal notranslate"><span class="pre">zMin</span></code>, <code class="docutils literal notranslate"><span class="pre">zMax</span></code>, to sweep for obstacles with respect to the established origin of the racking system. <br>These values will typically be obtained from warehouse management and will correspond to the approximate volume of the load to be placed.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="output">
<h2>Output<a class="headerlink" href="#output" title="Link to this heading"></a></h2>
<p>The output of a <code class="docutils literal notranslate"><span class="pre">getRack</span></code> command is formatted in JSON.
An example JSON result, where the position of the rack was identified is shown below:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;getRack&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;angles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;rotX&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00089085</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;rotY&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00410702</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;rotZ&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0177895</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;horBeamVoi&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;xMax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.63</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;xMin&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.17</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;yMax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;yMin&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;zMax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.105</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;zMin&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.805</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;numPixels&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;position&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.46194</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.636352</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.491981</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;side&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;uprightVoi&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;xMax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.63</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;xMin&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.17</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;yMax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;yMin&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;zMax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;zMin&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.3</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="angles-position-side-and-score">
<h3><code class="docutils literal notranslate"><span class="pre">angles</span></code>, <code class="docutils literal notranslate"><span class="pre">position</span></code>, <code class="docutils literal notranslate"><span class="pre">side</span></code> and <code class="docutils literal notranslate"><span class="pre">score</span></code><a class="headerlink" href="#angles-position-side-and-score" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">angles</span></code></p></td>
<td><p>Three rotation components, <code class="docutils literal notranslate"><span class="pre">rotX</span></code>, <code class="docutils literal notranslate"><span class="pre">rotY</span></code> and <code class="docutils literal notranslate"><span class="pre">rotZ</span></code> of the rack coordinates system in radians.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">position</span></code></p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> anx <code class="docutils literal notranslate"><span class="pre">z</span></code> coordinates of the origin of the rack coordinate system.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">side</span></code></p></td>
<td><p>Type of the rack coordinate system. Either “right” for right-handed or “left” for left-handed.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">score</span></code></p></td>
<td><p>Detection score of the rack (0 or 1). <br>Note that the score does <em>not</em> correspond to how well the rack is detected, but rather how close to the reference rack it is.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="flags">
<h3><code class="docutils literal notranslate"><span class="pre">flags</span></code><a class="headerlink" href="#flags" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">flags</span></code> provides a bitmask with debugging information for <code class="docutils literal notranslate"><span class="pre">getRack</span></code>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Bit No.</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NO_BEAM</span></code></p></td>
<td><p>The horizontal beam of the rack grid location could not be segmented.</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MULTIPLE_BEAMS</span></code></p></td>
<td><p>Multiple horizontal beam candidates were segmented, the most plausible was selected.</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BEAM_COVERAGE</span></code></p></td>
<td><p>The threshold of pixel coverage over the surface area of the beam was not met.</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NO_UPRIGHT</span></code></p></td>
<td><p>A vertical upright was not detected, the rack frame was established based on the segmented beam, sweeping volume, and (optionally) the floor.</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MULTIPLE_UPRIGHTS</span></code></p></td>
<td><p>Multiple upright candidates (on the anchor side of interest) were segmented, the most plausible was selected.</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">UPRIGHT_COVERAGE</span></code></p></td>
<td><p>The threshold of pixel coverage over the surface area of the upright was not met.</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NO_JOIN</span></code></p></td>
<td><p>The relative position of the upright candidate and the horizontal beam is implausible.</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAD_TRANSFORM</span></code></p></td>
<td><p>The origin of the computed rack frame is outside of an expected tolerance (indicative of a beam-only localization anchoring to an obstacle).</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SHELF_OBSTACLE</span></code></p></td>
<td><p>An obstacle was detected within the shelf sweeping volume with respect to the established rack frame.</p></td>
</tr>
</tbody>
</table>
<p>The resultant flag value is a decimal value representing which flags are activated or not.
For example, if the value of the flag is set to 384 then the resultant binary value is <code class="docutils literal notranslate"><span class="pre">11000000</span></code>, that is, bit numbers 7 and 8 were set to 1 (<code class="docutils literal notranslate"><span class="pre">BAD_TRANSFORM</span></code> and <code class="docutils literal notranslate"><span class="pre">SHELF_OBSTACLE</span></code>).</p>
<p>In the below section, the possible reasons why the flags are set are discussed in detail.</p>
<section id="no-beam">
<h4><code class="docutils literal notranslate"><span class="pre">NO_BEAM</span></code><a class="headerlink" href="#no-beam" title="Link to this heading"></a></h4>
<p>The horizontal beam of the rack grid location could not be segmented (this is a critical error). Possible reasons are:</p>
<ul class="simple">
<li><p>Incorrect <code class="docutils literal notranslate"><span class="pre">depthHint</span></code>: the algorithm looks for the beams around the given depth hint. The default tolerance for depth hint is 0.23 m,</p></li>
<li><p>Incorrect Z-hint: the algorithm looks for beams around the provided Z-hint. The default tolerance is 0.4 m,</p></li>
<li><p>No beam candidate meets the minimum length requirement: the algorithm looks for beams with a default minimum length of 1.0 m,</p></li>
<li><p>No beam candidate meets min or max height requirement: the algorithm looks for beams with a minimum or maximum height of respectively 6 and 15 cm.</p></li>
<li><p>A space of at least 0.05 m is expected below the beam to avoid considering the top of another loaded pallet as a beam.</p></li>
</ul>
</section>
<section id="multiple-beams">
<h4><code class="docutils literal notranslate"><span class="pre">MULTIPLE_BEAMS</span></code><a class="headerlink" href="#multiple-beams" title="Link to this heading"></a></h4>
<p>Multiple horizontal beam candidates were segmented, and the one with the largest extent in the Y-direction was selected. This does not mean that the detection was unsuccessful. If multiple beams are not expected, then the user can abort the operation.
Possible reasons are:</p>
<ul class="simple">
<li><p>Presence of a loaded pallet or other obstacle above or below the beam,</p></li>
<li><p>Presence of a true second beam in the scene,</p></li>
<li><p>More than one beam candidate meets the minimum length and minimum or maximum height requirements.</p></li>
</ul>
</section>
<section id="beam-coverage">
<h4><code class="docutils literal notranslate"><span class="pre">BEAM_COVERAGE</span></code><a class="headerlink" href="#beam-coverage" title="Link to this heading"></a></h4>
<p>A threshold of pixel coverage over the surface area of the beam was not met. Possible reasons are:</p>
<ul class="simple">
<li><p>The segmented beam has lots of non-planar points,</p></li>
<li><p>The segmented beam does not meet the minimum coverage requirement.</p></li>
</ul>
</section>
<section id="no-upright">
<h4><code class="docutils literal notranslate"><span class="pre">NO_UPRIGHT</span></code><a class="headerlink" href="#no-upright" title="Link to this heading"></a></h4>
<p>A vertical upright was not detected, and the rack frame was established based on the segmented beam, sweeping volume, and (optionally) the floor. Possible reasons are:</p>
<ul class="simple">
<li><p>Incorrect <code class="docutils literal notranslate"><span class="pre">horizontalDropPosition</span></code>: the algorithm looks to either the right side or left side, not to both sides except <code class="docutils literal notranslate"><span class="pre">horizontalDropPosition</span> <span class="pre">=</span> <span class="pre">center</span></code>,</p></li>
<li><p>No upright close to the beam,</p></li>
<li><p>No upright candidate meets the minimum length requirement: the algorithm looks for uprights with a minimum length of 0.7 m,</p></li>
<li><p>No upright candidate meets the minimum or maximum width requirement: the algorithm looks for uprights with a minimum or maximum width of respectively 3 or 12 cm by default.</p></li>
</ul>
</section>
<section id="multiple-uprights">
<h4><code class="docutils literal notranslate"><span class="pre">MULTIPLE_UPRIGHTS</span></code><a class="headerlink" href="#multiple-uprights" title="Link to this heading"></a></h4>
<p>Multiple upright candidates (on the anchor side of interest) were segmented. The leftmost or the rightmost was selected, depending on the <code class="docutils literal notranslate"><span class="pre">horizontalDropPosition</span></code>.
This does not mean that the detection was unsuccessful.
If multiple uprights are not expected, then the user can abort the operation.
Possible reasons are:</p>
<ul class="simple">
<li><p>Loaded pallet or other obstacle above or below the beam,</p></li>
<li><p>True second upright in the scene,</p></li>
<li><p>More than one upright candidate meets the minimum length and minimum or maximum width requirements.</p></li>
</ul>
</section>
<section id="upright-coverage">
<h4><code class="docutils literal notranslate"><span class="pre">UPRIGHT_COVERAGE</span></code><a class="headerlink" href="#upright-coverage" title="Link to this heading"></a></h4>
<p>A threshold of pixel coverage over the surface area of the upright was not met. Possible reasons are:</p>
<ul class="simple">
<li><p>The segmented upright has lots of non-planar points,</p></li>
<li><p>The segmented upright does not meet the minimum coverage requirement (after 3D plane fit).</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">NO_UPRIGHT</span></code> flag is set, then <code class="docutils literal notranslate"><span class="pre">UPRIGHT_COVERAGE</span></code> is also set.</p>
</div>
</section>
<section id="no-join">
<h4><code class="docutils literal notranslate"><span class="pre">NO_JOIN</span></code><a class="headerlink" href="#no-join" title="Link to this heading"></a></h4>
<p>The relative position of the upright candidate with respect to the horizontal beam is implausble.
Possible reasons are:</p>
<ul class="simple">
<li><p>The segmented beam and segmented upright do not intersect.</p></li>
<li><p>The upright detection failed, most likely because it is not visible.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">NO_UPRIGHT</span></code> flag is set, then <code class="docutils literal notranslate"><span class="pre">NO_JOIN</span></code> is also set.</p>
</div>
</section>
<section id="bad-transform">
<h4><code class="docutils literal notranslate"><span class="pre">BAD_TRANSFORM</span></code><a class="headerlink" href="#bad-transform" title="Link to this heading"></a></h4>
<p>The origin of the computed rack frame is outside of an expected tolerance (indicative of a beam-only localization anchoring to an obstacle). Possible reasons are:</p>
<ul class="simple">
<li><p>Position of selected upright deviates from expected position (only Y-coordinate is considered): the algorithm expects the upright to be within tolerance on either the left side or right side.</p></li>
</ul>
</section>
<section id="shelf-obstacle">
<h4><code class="docutils literal notranslate"><span class="pre">SHELF_OBSTACLE</span></code><a class="headerlink" href="#shelf-obstacle" title="Link to this heading"></a></h4>
<p>An obstacle was detected within the shelf sweeping volume with respect to the established rack frame. Possible reasons are:</p>
<ul class="simple">
<li><p>The maximum number of pixels within the clearing volume was exceeded (default: 10).</p></li>
</ul>
</section>
</section>
<section id="horbeamvoi-and-uprightvoi">
<h3><code class="docutils literal notranslate"><span class="pre">horBeamVoi</span></code> and <code class="docutils literal notranslate"><span class="pre">uprightVoi</span></code><a class="headerlink" href="#horbeamvoi-and-uprightvoi" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">horBeamVoi</span></code></p></td>
<td><p>Volume in which the algorithm searches for an horizontal beam.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">uprightVoi</span></code></p></td>
<td><p>Volume in which the algorithm searches for a vertical upright.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="numpixels">
<h3><code class="docutils literal notranslate"><span class="pre">numPixels</span></code><a class="headerlink" href="#numpixels" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">numPixels</span></code></p></td>
<td><p>The number of pixels in the volume of interest. Typically, this is used to verify that the rack is empty before dropping a load.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


           </div>
          </div>
          
<html>
<head>
 
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="footer, address, phone, icons" />
 
	<title>Footer With Address And Phones</title>
	
	
 
</head>
 
	<body>
		
		<footer class="footer-distributed">
 
		<div class="footer-left">
 
		<p class="footer-links">
		<a href="index.html">Home</a>
	·
		<a href="http://www.o3r.ifm" target="_blank">Learn more</a>
	·
		<a href="/latest/_static/privacy-policy.html" target="_blank">Privacy Policy</a>

		</p>
 
		<p class="footer-company-name">ifm robotics &copy; 2023</p>
		</div>
		
		<div class="footer-center">
 
		<div>
		<i class="fa fa-envelope"></i>
		<p><a href="mailto:support.efector.object-ident@ifm.com">support.efector.object-ident@ifm.com</a></p>
		</div>
 
		</div>
 
		<div class="footer-right">
 
		<div class="footer-icons">
 
		<a href="https://www.facebook.com/ifmefector" target="_blank"><i class="fa fa-facebook"></i></a>
		<a href="https://twitter.com/ifm_USA" target="_blank"><i class="fa fa-twitter"></i></a>
		<a href="https://www.linkedin.com/showcase/ifm-efector" target="_blank"><i class="fa fa-linkedin"></i></a>
		<a href="https://github.com/ifm" target="_blank"><i class="fa fa-github"></i></a>
 
		</div>
 
		</div>
 
		</footer>
 
	</body>
 
</html>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>