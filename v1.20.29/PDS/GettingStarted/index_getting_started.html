<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting started with PDS &mdash; O3R  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=5800d392" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=d9f55abb"></script>
        <script src="../../_static/js/versionwarning.js?v=d4224a34"></script>
        <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Mounting position" href="../Mounting/mounting.html" />
    <link rel="prev" title="Camera and platform compatibility" href="../Compatibility/compatibility.html" />
    <!-- Google tag (gtag.js) -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZZ08KXKV1G"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ZZ08KXKV1G');
    </script> -->
     

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            O3R
          </a>
              <div class="version">
                v1.20.29
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GettingStarted/index_getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Firmware/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CompatibilityMatrix/compatibility_matrix.html">Compatibility Matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Technology/index_technology.html">Technology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_software_interfaces.html">Software Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CalibrationRoutines/index_calibrations.html">Calibration Routines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ODS/index_ods.html">ODS</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index_pds.html">PDS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Compatibility/compatibility.html">Compatibility</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calibrate-the-camera">Calibrate the camera</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pds-with-ifmvisionassistant">PDS with ifmVisionAssistant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pds-with-the-ifm3d-api">PDS with the ifm3d API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Mounting/mounting.html">Mounting setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Calibration/pds_calibration.html">Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Configuration/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Results/results.html">Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GetPallet/getPallet.html">Pallets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GetRack/getRack.html">Racks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../VolCheck/volCheck.html">Volume check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/examples.html">Code examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Recording/recordings_iVA.html">Recording</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Integration/index_integration.html">Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../PLC/index_plc.html">PLC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../FAQ/FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../downloadable/index.html">History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">O3R</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index_pds.html">PDS (Pick and Drop System)</a></li>
      <li class="breadcrumb-item active">Getting started with PDS</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/PDS/GettingStarted/index_getting_started.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started-with-pds">
<h1>Getting started with PDS<a class="headerlink" href="#getting-started-with-pds" title="Link to this heading"></a></h1>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading"></a></h2>
<p>It is expected that a running O3R system (VPU and camera heads) is connected. Please refer to the <a class="reference internal" href="../../GettingStarted/Unboxing/hw_unboxing.html"><span class="std std-doc">unboxing section</span></a>.</p>
<p>A typical procedure for getting started would be as follows:</p>
<ul class="simple">
<li><p>Connect the VPU (OVP812 or OVP813) to the O3R camera head,</p></li>
<li><p>Connect the Ethernet cable to the VPU and the laptop,</p></li>
<li><p>Connect the VPU to the power supply and power up the system,</p></li>
<li><p>Start the ifmVisionAssistant (iVA) GUI,</p></li>
<li><p>Verify that live images are being received.</p></li>
</ul>
<p>Before reading this section, make sure you are familiar with <a class="reference internal" href="../../SoftwareInterfaces/iVA/index_iVA.html"><span class="std std-doc">how to get started with the iVA</span></a>.</p>
</section>
<section id="calibrate-the-camera">
<h2>Calibrate the camera<a class="headerlink" href="#calibrate-the-camera" title="Link to this heading"></a></h2>
<p>The standard O3R coordinate system is right-handed, with:</p>
<ul class="simple">
<li><p>X-axis pointing in the opposite direction to the camera connector,</p></li>
<li><p>Y-axis pointing down,</p></li>
<li><p>Z-axis pointing away from the camera (depth).</p></li>
</ul>
<p>For PDS, this coordinate system is rotated to match the typical fork coordinate system orientation. The coordinate system is fixed to the fork tines so that the coordinate system origin moves with the forks:</p>
<ul class="simple">
<li><p>X-axis pointing in the direction of the forks,</p></li>
<li><p>Y-axis pointing to the left, and</p></li>
<li><p>Z-axis pointing up.</p></li>
</ul>
<p>To calibrate the cameras, the easiest way is to use the ifmVisionAssistant manual calibration wizard (available for iVA &gt;= 2.7.6):
<img alt="Open the calibration wizard" src="../../_images/step_1_iva_man_calibration.png" /></p>
<ol class="arabic simple">
<li><p>Select the port to calibrate
<img alt="Enter the calibration values" src="../../_images/iva_calibration.png" /></p></li>
<li><p>Click on the “Rotate like a vehicle front camera.” This button is a shortcut to place the camera horizontally and facing in the X direction, in the reference coordinate system.
If the camera placement is different, the angles should be adjusted on the right hand side of the calibration wizard.</p></li>
<li><p>Enter the translation parameters from the fork tines coordinate system to the camera.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more details on the calibration process, you can refer to <a class="reference internal" href="../Calibration/pds_calibration.html"><span class="std std-doc">the calibration documentation</span></a>.
For a quick test setup, it is acceptable to have an approximate calibration, as long as the orientation of the camera is correct and the translations are precise within approximately one centimeter.
For a production setup and for testing the performance algorithm, we recommend to precisely calibrate the camera with one of <a class="reference internal" href="../../CalibrationRoutines/index_calibrations.html"><span class="std std-doc">ifm’s provided calibration methods</span></a>.</p>
</div>
</section>
<section id="pds-with-ifmvisionassistant">
<h2>PDS with ifmVisionAssistant<a class="headerlink" href="#pds-with-ifmvisionassistant" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Extrinsic calibration is a necessary step before creating a PDS application. Follow the instructions above to calibrate the cameras manually.</p></li>
<li><p>To create a PDS application instance, click on the `Application’ window and click on <strong>+</strong> to create a new application.</p></li>
<li><p>Select the port in the <code class="docutils literal notranslate"><span class="pre">Ports</span></code> section which shall be used by PDS application. Only one port can be selected.</p></li>
<li><p>Change the state of the application from <code class="docutils literal notranslate"><span class="pre">CONF</span></code> to <code class="docutils literal notranslate"><span class="pre">IDLE</span></code> or <code class="docutils literal notranslate"><span class="pre">RUN</span></code>. In <code class="docutils literal notranslate"><span class="pre">IDLE</span></code> mode, the camera can be triggered upon request to collect a frame at a specific time. In <code class="docutils literal notranslate"><span class="pre">RUN</span></code> mode, the camera is continuously streaming PDS data.</p>
<p><img alt="iVA_state" src="../../_images/iVA_state.png" /></p>
</li>
<li><p>Commands:</p>
<ol class="arabic simple">
<li><p>In PDS, only one command can be executed at a time. The command will be blocking the operation until it is fully performed and the result information stream is triggered.</p></li>
<li><p>The default command (parameter) is <code class="docutils literal notranslate"><span class="pre">nop</span></code> (“no operation”).</p></li>
<li><p>The user has to customize the desired PDS command parameters before the next command execution. For more details see the specific commands documentation.</p></li>
<li><p>Trigger the command under the <code class="docutils literal notranslate"><span class="pre">/configuration/customization/command</span></code> section.</p></li>
<li><p>After processing a command, the system returns to its default command value - <code class="docutils literal notranslate"><span class="pre">nop</span></code> and is ready for the next command.</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">RUN</span></code> mode, data corresponding to the command configured in <code class="docutils literal notranslate"><span class="pre">/configuration/customization/command</span></code> will be streamed, until a change in the configuration is set.</p></li>
</ol>
</li>
<li><p>View results in the display.</p></li>
</ol>
<p><img alt=" Result" src="../../_images/getPallet_result.png" /></p>
</section>
<section id="pds-with-the-ifm3d-api">
<h2>PDS with the ifm3d API<a class="headerlink" href="#pds-with-the-ifm3d-api" title="Link to this heading"></a></h2>
<p>We recommend to get started using the ifmVisionAssistant, since it provides convenient visualization features which are very useful in the first testing steps.
However, it is also possible to use PDS with the Python or C++ ifm3d API only.
Complete examples are available in the ifm3d-examples repository, but the main steps are as follows:</p>
<ol class="arabic simple">
<li><p>Extrinsically calibrate the cameras, by directly providing the calibration values in JSON format and setting the configuration with the <code class="docutils literal notranslate"><span class="pre">set</span></code> function.</p></li>
<li><p>Create a PDS application using the <code class="docutils literal notranslate"><span class="pre">set</span></code> function. Providing the <code class="docutils literal notranslate"><span class="pre">&quot;class&quot;:</span> <span class="pre">&quot;pds&quot;</span></code> JSON key will create an application where all parameters have their default values.</p></li>
<li><p>Verify that the port used by the application is correct. If not, change it in <code class="docutils literal notranslate"><span class="pre">&quot;ports&quot;:</span> <span class="pre">[CAMERA_PORT]</span></code>.</p></li>
<li><p>Change the state of the application from <code class="docutils literal notranslate"><span class="pre">CONF</span></code> to <code class="docutils literal notranslate"><span class="pre">IDLE</span></code> or <code class="docutils literal notranslate"><span class="pre">RUN</span></code>. In <code class="docutils literal notranslate"><span class="pre">IDLE</span></code> mode, the camera can be triggered upon request to collect a frame at a specific time. In <code class="docutils literal notranslate"><span class="pre">RUN</span></code> mode, the camera is continuously streaming data.</p></li>
<li><p>Commands:</p>
<ol class="arabic simple">
<li><p>In PDS, only one command can be executed at a time. The command will be blocking the operation until it is fully performed and the result information stream is triggered.</p></li>
<li><p>The default command (parameter) is <code class="docutils literal notranslate"><span class="pre">nop</span></code> (“no operation”).</p></li>
<li><p>The user has to customize the desired PDS command parameters before the next command execution. For more details see the specific commands documentation.</p></li>
<li><p>Trigger the command under the <code class="docutils literal notranslate"><span class="pre">/configuration/customization/command</span></code> section.
Each command corresponds to its own respective JSON parameter in the application’s JSON. To trigger it, the parameter needs to be changed to a command value via the <code class="docutils literal notranslate"><span class="pre">set</span></code> command.</p></li>
<li><p>After processing a command, the system returns to its default command value - <code class="docutils literal notranslate"><span class="pre">nop</span></code> and is ready for the next command.</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">RUN</span></code> mode, data corresponding to the command configured in <code class="docutils literal notranslate"><span class="pre">/configuration/customization/command</span></code> will be streamed, until a change in the configuration is set.</p></li>
</ol>
</li>
<li><p>View results via the respective <code class="docutils literal notranslate"><span class="pre">buffer_id</span></code>. See the Python and C++ programming examples for more details.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is possible to use both the API and the GUI together.
For example, steps 1-3 are easily done on the GUI, and the triggering can be done with the API.</p>
</div>
</section>
</section>


           </div>
          </div>
          
<html>
<head>
 
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="footer, address, phone, icons" />
 
	<title>Footer With Address And Phones</title>
	
	
 
</head>
 
	<body>
		
		<footer class="footer-distributed">
 
		<div class="footer-left">
 
		<p class="footer-links">
		<a href="index.html">Home</a>
	·
		<a href="http://www.o3r.ifm" target="_blank">Learn more</a>
	·
		<a href="/latest/_static/privacy-policy.html" target="_blank">Privacy Policy</a>

		</p>
 
		<p class="footer-company-name">ifm robotics &copy; 2023</p>
		</div>
		
		<div class="footer-center">
 
		<div>
		<i class="fa fa-envelope"></i>
		<p><a href="mailto:support.efector.object-ident@ifm.com">support.efector.object-ident@ifm.com</a></p>
		</div>
 
		</div>
 
		<div class="footer-right">
 
		<div class="footer-icons">
 
		<a href="https://www.facebook.com/ifmefector" target="_blank"><i class="fa fa-facebook"></i></a>
		<a href="https://twitter.com/ifm_USA" target="_blank"><i class="fa fa-twitter"></i></a>
		<a href="https://www.linkedin.com/showcase/ifm-efector" target="_blank"><i class="fa fa-linkedin"></i></a>
		<a href="https://github.com/ifm" target="_blank"><i class="fa fa-github"></i></a>
 
		</div>
 
		</div>
 
		</footer>
 
	</body>
 
</html>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>