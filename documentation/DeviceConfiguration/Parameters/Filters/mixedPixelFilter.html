<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
    <meta property="article:modified_time" content="2023-01-25T20:09:11+00:00" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mixed Pixel Filter &mdash; O3R  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
        <script src="../../../../_static/js/versionwarning.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Symmetry Threshold" href="symmetryThreshold.html" />
    <link rel="prev" title="Temporal Filter" href="temporalFilter.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> O3R
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../index_getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Device Configuration</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Imager Parameters</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../parameters.html">Parameters overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../AcquisitionSettings/README.html">Acquisition parameters</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="README.html">Filters</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="filteringProcess.html">Filtering process overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="maxDistNoise.html">Maximum distance noise</a></li>
<li class="toctree-l4"><a class="reference internal" href="minAmplitude.html">Minimum amplitude</a></li>
<li class="toctree-l4"><a class="reference internal" href="minReflectivity.html">Minimum reflectivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="bilateralFilter.html">Adaptive noise bilateral filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="median.html">Median filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="temporalFilter.html">Temporal filter</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Mixed pixel filter</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#abstract">Abstract</a></li>
<li class="toctree-l5"><a class="reference internal" href="#description">Description</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#angle-based-validation-method">Angle based validation method</a></li>
<li class="toctree-l6"><a class="reference internal" href="#distance-based-validation-method-will-be-deprecated">Distance based validation method (will be deprecated)</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#different-angle-threshold-values">Different angle threshold values</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="symmetryThreshold.html">Symmetry threshold</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ImagesDescription/index.html">Images Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Interfaces/index.html">Communication Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sntp.html">SNTP</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../o3r-utilities/README.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../applications_index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ifm3d/index.html">ifm3d API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ROS/index.html">ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Firmware/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../downloadable/index.html">Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ/FAQ.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">O3R</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Device Configuration</a> &raquo;</li>
          <li><a href="../index.html">Parameters</a> &raquo;</li>
          <li><a href="README.html">Filters</a> &raquo;</li>
      <li>Mixed Pixel Filter</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/documentation/DeviceConfiguration/Parameters/Filters/mixedPixelFilter.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="tex2jax_ignore mathjax_ignore section" id="mixed-pixel-filter">
<h1>Mixed Pixel Filter<a class="headerlink" href="#mixed-pixel-filter" title="Permalink to this headline"></a></h1>
<div class="section" id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline"></a></h2>
<p>We call mixed pixels pixels resulting from a mixed signal from foreground and background planes (typically, the pixel “lands” partially on an object and partially on its background). Such pixels don’t represent the distance measurement to either object and lie somewhere in between (they appear to be <em>flying</em>, and we sometimes refer to them as <em>flying pixels</em>). The mixed-pixel filter invalidates these pixels. The <code class="docutils literal notranslate"><span class="pre">mixedPixelFilterMode</span></code> setting defines whether this filter is activated and which validation methods is used. <code class="docutils literal notranslate"><span class="pre">mixedPixelFilterMode</span> <span class="pre">=</span> <span class="pre">1</span></code> switches to angle validation check (adjust it with <code class="docutils literal notranslate"><span class="pre">mixedPixelThresholdRad</span></code>). <code class="docutils literal notranslate"><span class="pre">mixedPixelFilterMode</span> <span class="pre">=</span> <span class="pre">2</span></code> switches to distance based validation check (this mode is inherited from previous algorithm versions and will most likely be deprecated in the future). <code class="docutils literal notranslate"><span class="pre">mixedPixelFilterMode</span> <span class="pre">=</span> <span class="pre">0</span></code> switches the filter off completely.</p>
<p><strong>We recommend either disabling the filter (more precision on objects’ edges) or using the angle based validation method (<code class="docutils literal notranslate"><span class="pre">mixedPixelFilterMode</span> <span class="pre">=</span> <span class="pre">1</span></code>) to remove pixels between objects and their backgrounds.</strong></p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">mixedPixelFilterMode</span></code> controls two different methods for invalidation mixed pixels.</p>
<div class="section" id="angle-based-validation-method">
<h3>Angle based validation method<a class="headerlink" href="#angle-based-validation-method" title="Permalink to this headline"></a></h3>
<p>The angle based mixed pixel filtering (<code class="docutils literal notranslate"><span class="pre">mixedPixelFilterMode</span> <span class="pre">=</span> <span class="pre">1</span></code>) is based on the idea of estimating, for each pixel, the angle between the optical and an approximate tangent plane on the object (at this exact pixel coordinate). If the angle difference is larger than the allowed angle threshold, the pixel is invalidated.<br />
The angle threshold of this mode is controlled by the parameter <code class="docutils literal notranslate"><span class="pre">mixedPixelThresholdRad</span></code> (angle in radians).</p>
</div>
<div class="section" id="distance-based-validation-method-will-be-deprecated">
<h3>Distance based validation method (will be deprecated)<a class="headerlink" href="#distance-based-validation-method-will-be-deprecated" title="Permalink to this headline"></a></h3>
<p>The second version of the mixed pixel (<code class="docutils literal notranslate"><span class="pre">mixedPixelFilterMode</span> <span class="pre">=</span> <span class="pre">2</span></code>) filter is centered around the idea of comparing distances in the local neighborhood of a pixel. The distance of the pixel is compared in horizontal and vertical direction against its neighboring pixels’ distance values. If the distance differences are outside a threshold (set internally), the pixel is invalidated.</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<div class="section" id="different-angle-threshold-values">
<h3>Different angle threshold values<a class="headerlink" href="#different-angle-threshold-values" title="Permalink to this headline"></a></h3>
<p>To show the impact of adjusting the mixed pixel filter with the <code class="docutils literal notranslate"><span class="pre">mixedPixelThresholdRad</span></code>, we show a scene where two boxes are placed in front of the camera, at around one and two meters. The table below shows the distance image and the point cloud with the filter inactive and filter in the angle mode with different angle thresholds:</p>
<blockquote>
<div><p>Note: settings <code class="docutils literal notranslate"><span class="pre">mixedPixelThresholdRad</span> <span class="pre">=</span> <span class="pre">0</span></code> is equivalent to turning the filter off.</p>
</div></blockquote>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value of <code class="docutils literal notranslate"><span class="pre">mixedPixelThresholdRad</span></code></p></th>
<th class="head"><p>Distance image</p></th>
<th class="head"><p>Point cloud</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0 (equivalent to <code class="docutils literal notranslate"><span class="pre">mixedPixelFilterMode</span> <span class="pre">=</span> <span class="pre">0</span></code>)</p></td>
<td><p><img alt="Mixed pixels filter disabled - distance" src="../../../../_images/mixed_pixel_0_distance.png" /></p></td>
<td><p><img alt="Mixed pixels filter disabled - view 1" src="../../../../_images/mixed_pixel_rad_0_view1.png" /></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p><img alt="Mixed pixels filter disabled - view " src="../../../../_images/mixed_pixel_rad_0_view2.png" /></p></td>
</tr>
<tr class="row-even"><td><p>0.15 (default)</p></td>
<td><p><img alt="Mixed pixels filter  - distance" src="../../../../_images/mixed_pixel_rad_015_distance.png" /></p></td>
<td><p><img alt="Mixed pixels filter  - view 1" src="../../../../_images/mixed_pixel_rad_015_view1.png" /></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p><img alt="Mixed pixels filter  - view 2" src="../../../../_images/mixed_pixel_rad_015_view2.png" /></p></td>
</tr>
<tr class="row-even"><td><p>0.3</p></td>
<td><p><img alt="Mixed pixels filter  - distance" src="../../../../_images/mixed_pixel__rad_03_distance.png" /></p></td>
<td><p><img alt="Mixed pixels filter  - view 1" src="../../../../_images/mixed_pixel_rad_03_view1.png" /></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p><img alt="Mixed pixels filter  - view " src="../../../../_images/mixed_pixel_rad_03_view2.png" /></p></td>
</tr>
<tr class="row-even"><td><p>0.5</p></td>
<td><p><img alt="Mixed pixels filter  - distance" src="../../../../_images/mixed_pixel__rad_05_distance.png" /></p></td>
<td><p><img alt="Mixed pixels filter  - view 1" src="../../../../_images/mixed_pixel_rad_05_view1.png" /></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p><img alt="Mixed pixels filter  - view 2" src="../../../../_images/mixed_pixel_rad_05_view2.png" /></p></td>
</tr>
</tbody>
</table>
<p>We can see that using higher values for the <code class="docutils literal notranslate"><span class="pre">mixedPixelThresholdRad</span></code> invalidates more pixels. We typically recommend deactivating the filter or using small values for the threshold.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="temporalFilter.html" class="btn btn-neutral float-left" title="Temporal Filter" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="symmetryThreshold.html" class="btn btn-neutral float-right" title="Symmetry Threshold" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, ifm CSR.
      <span class="lastupdated">Last updated on Jan 25, 2023.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>