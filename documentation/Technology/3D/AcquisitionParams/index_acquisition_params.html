<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Acquisition parameters &mdash; O3R  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
        <script src="../../../../_static/js/versionwarning.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Processing parameters" href="../ProcessingParams/index_processing_params.html" />
    <link rel="prev" title="Modes" href="../modes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> O3R
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../GettingStarted/index_getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Firmware/index.html">Firmware</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index_hardware_interfaces.html">Technology</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../2D/2d.html">2D Cameras</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index_3d.html">3D Cameras</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../modes.html">Modes</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Acquisition parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#framerate">Framerate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exposure-times">Exposure Times</a></li>
<li class="toctree-l4"><a class="reference internal" href="#offset">Offset</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l5"><a class="reference internal" href="#details">Details</a></li>
<li class="toctree-l5"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#channel-selection-and-channel-value">Channel selection and channel value</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ProcessingParams/index_processing_params.html">Processing parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../triggering.html">O3R System synchronization and triggering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ImagesDescription/index_images_description.html">Images description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../VPU/index_vpu.html">VPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SystemVerification/index_system_verification.html">System Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index_hardware_interfaces.html#available-hardware-and-specifications">Available hardware and specifications.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index_hardware_interfaces.html#cad-drawings-of-vpu-and-camera-heads">CAD drawings of VPU and camera heads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index_hardware_interfaces.html#camera-heads">Camera Heads</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../index_software_interfaces.html">Software Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ODS/index_ods.html">ODS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ/FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../downloadable/index.html">History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">O3R</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index_hardware_interfaces.html">Technology</a> &raquo;</li>
          <li><a href="../index_3d.html">3D Camera Configuration</a> &raquo;</li>
      <li>Acquisition parameters</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/documentation/Technology/3D/AcquisitionParams/index_acquisition_params.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="tex2jax_ignore mathjax_ignore section" id="acquisition-parameters">
<h1>Acquisition parameters<a class="headerlink" href="#acquisition-parameters" title="Permalink to this headline"></a></h1>
<blockquote>
<div><p>Note: The min, max and default values of each parameter are defined in the json schema.
To print out the schema, you can use the <span class="xref myst">ifm3d CLI</span>:
<code class="docutils literal notranslate"><span class="pre">ifm3d</span> <span class="pre">jsonschema</span></code></p>
</div></blockquote>
<div class="section" id="framerate">
<h2>Framerate<a class="headerlink" href="#framerate" title="Permalink to this headline"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Variable name</p></th>
<th class="head"><p>Short description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">framerate</span></code></p></td>
<td><p>Defines the number of frames captured each second</p></td>
</tr>
</tbody>
</table>
<p>For the O3R system the FPS is independent from the applied imager settings (exposure mode and times, filters, etc.). Higher exposure times, for example, will <strong>not</strong> negatively impact the system’s FPS. The O3R is designed to achieve 20 FPS in the 2 m and 4 m modes, <em>regardless</em> of applied settings.</p>
</div>
<div class="section" id="exposure-times">
<h2>Exposure Times<a class="headerlink" href="#exposure-times" title="Permalink to this headline"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Variable name</p></th>
<th class="head"><p>Short description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">exposureLong</span></code>, <code class="docutils literal notranslate"><span class="pre">exposureShort</span></code></p></td>
<td><p>These parameters are used to set the exposure times.</p></td>
</tr>
</tbody>
</table>
<p>Exposure times are utilized to maximize the number of valid pixels in a scene. The use of multiple exposures (HDR) permits the camera to operate in “dynamic” environments that require the detection of dark and light objects at both the minimum and maximum ranges.</p>
<p>The proper exposure time for a pixel depends on factors such as the dynamics of the scene and whether the target is moving or stationary. For highly reflective targets or for motion, a short exposure time is best. For targets far away or with low surface reflectance  choosing high exposure time is preferable.
As such, it is common that all targets of a scene cannot be properly exposed with a single exposure time.
To reduce noise and the number of overexposed/underexposed pixels, we use three exposures for each frame. The <code class="docutils literal notranslate"><span class="pre">standard</span></code> modes provides two settable exposure times (<code class="docutils literal notranslate"><span class="pre">expLong</span></code> and <code class="docutils literal notranslate"><span class="pre">expShort</span></code>) plus a third <em>constant</em> exposure (set at 30 µs) designed to help detect highly reflective targets in the very near range (~1 m). Note that using a small ratio of exposure times helps reduce noise in transitions regions (where neighboring pixels use different exposure times).</p>
<blockquote>
<div><p>Note: You can find which exposure time is used for each pixel by analyzing the confidence image as detailed <span class="xref myst">here</span>.</p>
</div></blockquote>
</div>
<div class="section" id="offset">
<h2>Offset<a class="headerlink" href="#offset" title="Permalink to this headline"></a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h3>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Variable name</p></th>
<th class="head"><p>Short description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">offset</span></code></p></td>
<td><p>Shifts the start point of the measured range (see <span class="xref myst">mode</span>)</p></td>
</tr>
</tbody>
</table>
<p>Coded modulation dictates the base range of the camera (e.g., 0 to 2 m). Coded modulation also allows this range to be offset or shifted from its start point. In the example of 0 – 2 m base range, an <code class="docutils literal notranslate"><span class="pre">offset</span></code> of 0.5 m would lead to a 0.5 – 2.5 m range. Continuing this example, an <code class="docutils literal notranslate"><span class="pre">offset</span></code> of 1 leads to a 1 – 3m range. The <code class="docutils literal notranslate"><span class="pre">offset</span></code> can be changed frame by frame.</p>
</div>
<div class="section" id="details">
<h3>Details<a class="headerlink" href="#details" title="Permalink to this headline"></a></h3>
<p>The offset parameter shifts the beginning of the measurement range in space. For instance, when using the 2m mode with an offset of 1m, the O3R will compute distance data for a range between 1 and 3 m from the camera.</p>
<p>Using the offset can allow you to collect distance measurements past the measurement range set by the <span class="xref myst">mode</span> while taking advantage of the robust point cloud the O3R provides and the specificities of each mode.</p>
<p>The offset can be set at negative values, which brings the end of the measurement range closer to the camera. This can be useful for mitigating MPI artifacts (<em>coming soon</em>)), for instance, or for avoiding artifacts caused by highly reflective objects (see <span class="xref myst">stray-light artifacts</span>), by removing the cause of the artifact from the FoV.</p>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline"></a></h3>
<p>Let’s look at the following scene. Three boxes are positioned in front of the camera at about one, two, and three meters away.
<img alt="RGB view of the offset scene" src="../../../../_images/offset_scene.png" /></p>
<p>We are using the 2m <span class="xref myst">mode</span>, with all the other settings as default. The table below shows the point cloud for multiple values of the offset.</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Offset (meters)</p></th>
<th class="head"><p>Point Cloud</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-0.5</p></td>
<td><p><img alt="Point cloud with offset -0.5" src="../../../../_images/offset_-05_cloud.png" /></p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p><img alt="Point cloud with offset 0" src="../../../../_images/offset_0_cloud.png" /></p></td>
</tr>
<tr class="row-even"><td><p>1.5</p></td>
<td><p><img alt="Point cloud with offset 1.5" src="../../../../_images/offset_15_cloud.png" /></p></td>
</tr>
<tr class="row-odd"><td><p>2.5</p></td>
<td><p><img alt="Point cloud with offset 2.5" src="../../../../_images/offset_25_cloud.png" /></p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>Note: In the last image where the offset is set to 2.5m, we can see that the noise is higher than in the other images. This is due to the distance to the camera, with which the noise increases, and to the fact that the most robust measurement is in the middle of the range, which is from around 3 to 4 m in the case of the last example. The ground in front of the box is outside of the robustness area.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="channel-selection-and-channel-value">
<h2>Channel selection and channel value<a class="headerlink" href="#channel-selection-and-channel-value" title="Permalink to this headline"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Variable name</p></th>
<th class="head"><p>Short description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">channelSelection</span></code></p></td>
<td><p>Defines the user mode for handling channel selection: currently only manual</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">channelValue</span></code></p></td>
<td><p>Defines the channel value</p></td>
</tr>
</tbody>
</table>
<p>This concept for cross talk mitigation is based on channels, each channel corresponding to a different modulation frequency. Use a channel combination of mutually exclusive channels to <em>almost</em> completely reduce the possibility and effect of cross talk between O3R camera heads.
The channel value has to be set per 3D TOF imager / O3R camera head. By default it is to value 0.
A channel value difference of 1 has been shown to be adequate. Any additional channel value offset (&gt; 1) will not improve crosstalk mitigation between O3R camera heads.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../modes.html" class="btn btn-neutral float-left" title="Modes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../ProcessingParams/index_processing_params.html" class="btn btn-neutral float-right" title="Processing parameters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, ifm CSR.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>