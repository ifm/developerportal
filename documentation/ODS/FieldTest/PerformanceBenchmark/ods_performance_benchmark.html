<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ODS Performance &mdash; O3R  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
        <script src="../../../../_static/js/versionwarning.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="ODS ToF artifacts" href="../TOFArtifacts/ods_tof_artifacts.html" />
    <link rel="prev" title="ODS Performance evaluation" href="../PerformanceVerification/ods_performance_verification.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> O3R
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../GettingStarted/index_getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Firmware/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Technology/index_hardware_interfaces.html">Technology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../index_software_interfaces.html">Software Interfaces</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index_ods.html">ODS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../getting_started.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Mounting/mounting.html">Mounting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Instantiation/instantiation.html">Instantiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Configuration/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Zones/zones.html">Zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../OccupancyGrid/occupancy_grid.html">Occupancy grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Recording/ods_data_recording.html">Recording</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ChangingViews/changing_views.html">Changing views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../OverhangingLoads/overhanging_loads.html">Overhanging loads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ExtrinsicCalibration/index_extrinsic_calibration.html">Extrinsic calibration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index_field_test.html">Field test</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../PerformanceVerification/ods_performance_verification.html">Performance evaluation</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Performance benchmark</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#factors-to-be-considered">Factors to be considered</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#camera-mounting-positions-esp-vertical-mounting-heights">Camera mounting positions, esp. vertical mounting heights</a></li>
<li class="toctree-l5"><a class="reference internal" href="#type-of-cameras">Type of cameras</a></li>
<li class="toctree-l5"><a class="reference internal" href="#floor-types-and-maximum-floor-plane-estimation-ranges">Floor types and maximum floor plane estimation ranges</a></li>
<li class="toctree-l5"><a class="reference internal" href="#movement-speed">Movement speed</a></li>
<li class="toctree-l5"><a class="reference internal" href="#typical-object-size-and-reflectivity">Typical object size and reflectivity</a></li>
<li class="toctree-l5"><a class="reference internal" href="#latency">Latency</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../TOFArtifacts/ods_tof_artifacts.html">Time-of-flight artifacts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../DeviceVerification/index_device_verification.html">Device verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../iVA/index_ifmODS_iVA.html">ifmVisionAssistant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/index_ifmODS_python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cpp/index_ifmODS_cpp.html">C++</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ/FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../downloadable/index.html">History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">O3R</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index_ods.html">ODS (Obstacle Detection System)</a> &raquo;</li>
          <li><a href="../index_field_test.html">ODS performance</a> &raquo;</li>
      <li>ODS Performance</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/documentation/ODS/FieldTest/PerformanceBenchmark/ods_performance_benchmark.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="tex2jax_ignore mathjax_ignore section" id="ods-performance">
<h1>ODS Performance<a class="headerlink" href="#ods-performance" title="Permalink to this headline"></a></h1>
<p>The O3R-ODS performance depends upon various factor: this whitepaper gives an introduction to the factors influencing ODS performance and how the system can be tested and evaluated for benchmarking.</p>
<div class="section" id="factors-to-be-considered">
<h2>Factors to be considered<a class="headerlink" href="#factors-to-be-considered" title="Permalink to this headline"></a></h2>
<p>The following list of conditions and dependencies gives an overview of considerations which have to be taken into account to achieve optimal ODS performance results:</p>
<ul class="simple">
<li><p>Mounting position and mounting height</p></li>
<li><p>Type of ifm camera head: different camera FOVs, i.e. focal lengths.</p></li>
<li><p>Floor types and maximum visible range of floor pixels per floor type</p></li>
<li><p>Movement speed</p></li>
<li><p>Targeted object size</p></li>
</ul>
<div class="section" id="camera-mounting-positions-esp-vertical-mounting-heights">
<h3>Camera mounting positions, esp. vertical mounting heights<a class="headerlink" href="#camera-mounting-positions-esp-vertical-mounting-heights" title="Permalink to this headline"></a></h3>
<p>The positioning of the cameras and the number of cameras mounted on the AGV has a great impact on the performance of the ODS system.</p>
<p>There are a list of considerations which have to be taken into account when selecting mounting positions of cameras on an AGV:</p>
<p><strong>Floor range in relation to mounting height:</strong></p>
<p>The amount of light reflected back from the floor in a diffuse reflection type depends on the angle of incidence.
This means for higher mounted cameras, the angle of incidence (on the floor plane) is larger, i.e., more light is reflected to be suitable for a robust distance measurement. If the camera is too close to the ground, reflection artifacts may affect the system and negatively impact measurement ranges.</p>
<p>In general we recommend mounting the cameras in a range of 250 mm to 700 mm (vertically) from the ground. This is a good compromise between diffuse reflections for typical floors and small radial distances to objects on the floor, i.e. maximization of the detection range.</p>
<p>The orientation should be adjusted such that at least one camera on the AGV must see the large portion of the floor (see the chapter about visual odometry).</p>
<p><strong>Maximum radial range vs horizontal range:</strong></p>
<p>The benchmark results as provided by ifm are a measurement in difference in X-coordinates.
It is expected that the main movement direction of the AGV / AMR is in forward X direction, hence the difference in X-coordinates for objects which are roughly aligned with a straight movement direction of the AGV.</p>
<p>In practical application the radial distance between the camera and the the object of interest is mainly dependent on the mounting height (and for wide mounting baseline - the Y-difference).
For longer radial distances the object reflection signal becomes significantly weaker and it is harder to robustly estimate true objects detections, i.e. the trade-off between better angles of attack (see chapter above) becomes negated by lower signal strength - smaller typical object ranges.</p>
<p>The maximum range of ODS is limited to 4 meters in firmware version 1.0.x.</p>
<p><strong>Dead zones</strong></p>
<p>Depending on the mounting height and mounting position dead zones, e.g. triangles in space where no data is received, might be more or less pronounced.
Objects in these triangles can not be seen unless a secondary camera monitors it.</p>
<p>Depending on the restart strategy the effective braking distance is determined by the typical object detection range minus the extend of the dead zone in front of the AGV.</p>
<p><strong>Visual odometry:</strong></p>
<p>The Visual Odometry algorithm is an integral part of the ODS. For a fully working system visual odometry needs to be correctly configured for at least one suitable camera.
This requires the camera to be mounted is such a way to be able to see the floors surface in front of the AGV / AMR or at one of the sides (angled to the main driving direction) of the machine.
Typically visual odometry requires a floor range (i.e. floor pixels visible in a specific distance range) of <code class="docutils literal notranslate"><span class="pre">~</span> <span class="pre">1</span> <span class="pre">m</span></code>. This means a part of the floor covering a distance range of about one meter has to be visible under typical driving conditions for the visual odometry software part to be functional.</p>
<p>Please see the <a class="reference internal" href="../../Mounting/mounting.html"><span class="doc std std-doc">mounting guide</span></a> for more details on how to mount your cameras.
This visual odometry camera in interaction with the O3Rs IMU is used to estimate ego motion data, i.e. the movement of the O3R system as part of the machine.</p>
<p>In all ifm internally tested scenario and mounting configurations enough of the floor is visible for a stable ego motion estimation.</p>
</div>
<div class="section" id="type-of-cameras">
<h3>Type of cameras<a class="headerlink" href="#type-of-cameras" title="Permalink to this headline"></a></h3>
<p>The positioning of the cameras and the number of cameras mounted on the AGV has a great impact on the performance of the ODS system.</p>
<p>As of now, there are two different types of O3R camera heads available in the market which have different Field Of View (FoV).</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Camera Model</p></th>
<th class="head"><p>Horizontal FOV</p></th>
<th class="head"><p>Vertical FOV</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>O3R225</p></td>
<td><p>105°</p></td>
<td><p>78°</p></td>
</tr>
<tr class="row-odd"><td><p>O3R222</p></td>
<td><p>60°</p></td>
<td><p>45°</p></td>
</tr>
</tbody>
</table>
<p><strong>O3R225</strong></p>
<p>The O3R225 camera has an opening angle of 105° by 78°. This ideally suited for applications where large opening angles are required to monitor large areas of space.
Please see the technical specifications on the <a class="reference external" href="https://www.ifm.com/">ifm.com website</a>.</p>
<p><strong>O3R222</strong></p>
<p>The O3R222 camera has an opening angle of 60 by 45°. This ideally suited for applications where maximum range especially on small object sizes is required.
Please see the technical specifications on the <a class="reference external" href="https://www.ifm.com/">ifm.com website</a>.</p>
<p>The amount of active light illumination per spatial angle is much larger for the O3R222 camera heads since the area covered is only about 1/4 of the area of a O3R225 camera.
This improves detection ranges significantly.</p>
<p>To benefit from the advantages of both cameras, we suggest to complement a O3R225 camera with a O3R222 camera for long range applications. Please see our mounting instructions for more details and example mounting configurations.</p>
</div>
<div class="section" id="floor-types-and-maximum-floor-plane-estimation-ranges">
<h3>Floor types and maximum floor plane estimation ranges<a class="headerlink" href="#floor-types-and-maximum-floor-plane-estimation-ranges" title="Permalink to this headline"></a></h3>
<p>Depending on the floor type the amount of light reflected back into the camera lens via a diffuse reflection type differs.</p>
<p>The optical properties of a floors surface are similar in the visual spectrum compared to the spectrum of the O3R cameras. If floors appear “reflective” for the human eye, this will most likely mean they are also “reflective” in near infrared, i.e. the cameras working spectrum.</p>
<p>For floors with specular reflective properties the maximum range of pixels on the floor will be a smaller distance. This is turn means that the floors plane estimation is limited by the reduced maximum floor range. This is especially important for small objects placed directly on the floor. Such small objects required a complete floor estimation in their local neighborhood, i.e. the floor to be visible to the same range as the objects itself.</p>
<p>For larger objects or elevated small objects this requirement is relaxed. These can be detected further / earlier than the respective local ground plane pixels.</p>
<p>When testing your setup and application, please perform the tests under comparable conditions such as floor types.</p>
</div>
<div class="section" id="movement-speed">
<h3>Movement speed<a class="headerlink" href="#movement-speed" title="Permalink to this headline"></a></h3>
<p>Movement speed implicitly impacts the stable estimation distances of all objects.
Objects have to be seen in at least 2-3 frames before their corresponding probability reaches a high enough level in the occupancy grid (and zone) to exceed the required threshold level of 0.5.</p>
<p>This means that for higher movement speeds the traveled distance towards the objects during these 2-3 frames is larger compared to lower movement speeds and therefore the maximum detection distance is reduced.</p>
<!-- TODO: add more description? -->
</div>
<div class="section" id="typical-object-size-and-reflectivity">
<h3>Typical object size and reflectivity<a class="headerlink" href="#typical-object-size-and-reflectivity" title="Permalink to this headline"></a></h3>
<p>ODS performance depends on object size and reflectivity.</p>
<p>If large surface areas or highly reflective surface types and angles are present the object can be seen easily.
For small surface areas and low reflective surface types and angles the object might not be seen by the camera at all, and can therefore not be detected by the ODS application.</p>
</div>
<div class="section" id="latency">
<h3>Latency<a class="headerlink" href="#latency" title="Permalink to this headline"></a></h3>
<p><strong>Obstacle Detection System</strong></p>
<p>The ODS runs at 20 frames per second i.e the time difference between each ods frame is equal to 1/20 s (second) = 50 ms (millisecond).
The typical ODS “latency” is around 2-3 frames. This ensures robustness, via multiple detections in consecutive frames.</p>
<p><strong>Additional System Latency and Consequences</strong></p>
<ul class="simple">
<li><p>Network Latency:
This latency refers to the delay in network communication between the host (VPU) and an additional IPC or PLC. High network load can introduce additional latency to the network. Ensure full Gigabit Ethernet speeds when designing your local AGV network.</p></li>
<li><p>Communication cycle times: e.g. PLC cycle times
Typically kinematics handling (such as acceleration and braking) is handled in a low level PLC based application. Depending on the cycle time configuration this might introduce additional time delays before “stopping signals” are evaluated.</p></li>
</ul>
<p><strong>Reaction Distance Calculations</strong></p>
<p>The stopping distance for an AGV is the sum of the reaction distance and braking distance. Braking distance is the distance traveled by the AGV after the application of brakes (mechanical / regenerative braking) which depends on the vehicle deceleration, load and also friction between the floor and wheels.</p>
<p>Whereas, the reaction distance is the distance traveled by the AGV in the time duration of detecting the obstacle with high confidence (duration of 2 to 3 frames) by ODS (ODS latency), receiving the data from O3R to IPC (network latency), post-processing the ODS data and sending the signals to actuate the brakes (processing time).</p>
<ul class="simple">
<li><p>The latency for ODS is 50 milliseconds i.e for three frames = 150 milliseconds</p></li>
<li><p>Network Latency ~ 10 milliseconds</p></li>
<li><p>Processing time: depends on the algorithm and processing power of the IPC / PLC cycle times</p></li>
</ul>
<p>$$ time_{total latency} = ODS_latency +  Network_latency + processing_time $$</p>
<!-- 
## ODS Performance Analysis


**TODO: add tables with typical ODS performances** --></div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../PerformanceVerification/ods_performance_verification.html" class="btn btn-neutral float-left" title="ODS Performance evaluation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../TOFArtifacts/ods_tof_artifacts.html" class="btn btn-neutral float-right" title="ODS ToF artifacts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, ifm CSR.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>