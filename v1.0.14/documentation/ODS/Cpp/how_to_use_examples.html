<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZZ08KXKV1G"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ZZ08KXKV1G');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to use these examples &mdash; O3R  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/js/versionwarning.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="How to configure ODS" href="ods_config.html" />
    <link rel="prev" title="C++ examples" href="index_ifmODS_cpp.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> O3R
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GettingStarted/index_getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Firmware/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Technology/index_hardware_interfaces.html">Technology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../index_software_interfaces.html">Software Interfaces</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index_ods.html">ODS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Mounting/mounting.html">Mounting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Instantiation/instantiation.html">Instantiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Configuration/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Zones/zones.html">Zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../OccupancyGrid/occupancy_grid.html">Occupancy grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Recording/ods_data_recording.html">Recording</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ChangingViews/changing_views.html">Changing views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../OverhangingLoads/overhanging_loads.html">Overhanging loads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ExtrinsicCalibration/index_extrinsic_calibration.html">Extrinsic calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../FieldTest/index_field_test.html">Field test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DeviceVerification/index_device_verification.html">Device verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iVA/index_ifmODS_iVA.html">ifmVisionAssistant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Python/index_ifmODS_python.html">Python</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index_ifmODS_cpp.html">C++</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">How to use these examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setup">Setup</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#get-the-examples">Get the examples</a></li>
<li class="toctree-l5"><a class="reference internal" href="#building-the-examples">Building the examples</a></li>
<li class="toctree-l5"><a class="reference internal" href="#hardware-setup">Hardware setup</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#building-blocks">Building blocks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-considerations">Additional considerations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ods_config.html">How to configure ODS</a></li>
<li class="toctree-l3"><a class="reference internal" href="ods_get_data.html">How to stream ODS data</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagnostic.html">How to monitor the diagnostic</a></li>
<li class="toctree-l3"><a class="reference internal" href="ods_demo.html">Full ODS example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../FAQ/FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../downloadable/index.html">History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">O3R</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index_ods.html">ODS (Obstacle Detection System)</a> &raquo;</li>
          <li><a href="index_ifmODS_cpp.html">C++ examples</a> &raquo;</li>
      <li>How to use these examples</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/documentation/ODS/Cpp/how_to_use_examples.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="tex2jax_ignore mathjax_ignore section" id="how-to-use-these-examples">
<h1>How to use these examples<a class="headerlink" href="#how-to-use-these-examples" title="Permalink to this headline"></a></h1>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline"></a></h2>
<div class="section" id="get-the-examples">
<h3>Get the examples<a class="headerlink" href="#get-the-examples" title="Permalink to this headline"></a></h3>
<p>We provide a couple of the examples as webpages for you to browse, but we recommend getting the full example folder from git.</p>
<p>The examples are provided as part of the documentation. You can clone them with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ifm/documentation.git
</pre></div>
</div>
<p>The examples for ODS can be found in the ODS folder, in /Cpp for the c++ examples.</p>
</div>
<div class="section" id="building-the-examples">
<h3>Building the examples<a class="headerlink" href="#building-the-examples" title="Permalink to this headline"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the following instructions, we assume that you have already installed <a class="reference external" href="https://api.ifm3d.com/stable/">the ifm3d library</a>.</p>
</div>
<p>To build the examples, you can use the provided CMakeLists.txt. In the Examples folder, execute the instructions below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>..
cmake<span class="w"> </span>--build<span class="w"> </span>.
</pre></div>
</div>
<p>Each example (see the building blocks below) will generate an executable. Run the executable and inspect the code to get familiar with the ifm3d API usage in the context of ODS.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We expect that the executables will be run from the build folder, located in the Examples folder.
If another path is used, the path to the configuration files need to be updated in the ods_config.cpp, ods_get_data.cpp and ods_demo.cpp examples.</p>
</div>
</div>
<div class="section" id="hardware-setup">
<h3>Hardware setup<a class="headerlink" href="#hardware-setup" title="Permalink to this headline"></a></h3>
<p>For these examples, we expect the following setup:</p>
<ul class="simple">
<li><p>The VPU is of type M04239 (ODS-compatible VPU),</p></li>
<li><p>Two cameras heads are connected to the VPU, with the 2D ports connected to ports 0 and 1 and the 3D ports to port 2 and 3. Note we only use two cameras for the full example ods_demo.py. The individual tutorials only rely on one camera, 3D connected to port 2.</p></li>
<li><p>In the full ods_demo.py example, we set a calibration for the cameras expecting port2 to face forward and port 3 to face backwards, both cameras mounted at 60 cm high. These are artificial calibrations for demonstrtation purposes. If the cameras are not mounted this way, the examples will still run–just keep in mind that the generated ODS values will not correspond to your physical setup.</p></li>
</ul>
<p>You can use any other configuration to use these examples, but you will need to adjust the configuration files use when configuring an application.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Additional resources:</p>
<ul class="simple">
<li><p>For more informations on how to get started with the O3R platform: <a class="reference internal" href="../../GettingStarted/index_getting_started.html"><span class="doc std std-doc">Getting started with the O3R</span></a>.</p></li>
<li><p>For a general overview of ODS: <a class="reference internal" href="../index_ods.html"><span class="doc std std-doc">ODS (Obstacle Detection System)</span></a>,</p></li>
<li><p>For calibration and mounting documentation: <a class="reference internal" href="../ExtrinsicCalibration/index_extrinsic_calibration.html"><span class="doc std std-doc">Extrinsic calibration for ODS</span></a> and <a class="reference internal" href="../Mounting/mounting.html"><span class="doc std std-doc">Camera Mounting</span></a>.</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="building-blocks">
<h2>Building blocks<a class="headerlink" href="#building-blocks" title="Permalink to this headline"></a></h2>
<p>The example files provided in this mini-library are intended to be used as teaching resources and as building block in more complex applications. The user is free to disassemble, extend, or do whatever they please with this code. All the functions needed for to work with ODS applications are part of the ifm3d library. The rest of the code is added to simplify readability, usage and error handling.</p>
<ul class="simple">
<li><p>ods_config.h and ods_config.cpp show how to get and set configurations on the O3R platform. The header files can be reused in other applications that need configurations functionalities. This example showcases the use of a json validator that provides verbose errors when wrong configurations are provided.</p></li>
<li><p>ods_get_data.h and ods_get_data.cpp show how to properly start the data stream, implement a callback that will fill a queue with data, and retrieve data from the queue. Use the header file to make use of the data queue or of the data streamer in your application.</p></li>
<li><p>diagnostic.h and diagnostic.cpp show how to retrieve diagnostic information on request or asynchronously whevener an error occurs. Monitoring the diagnostic at all times is crutial to ensure good funtioning of the application.</p></li>
</ul>
<p>In ods_demo_client.cpp, we show how all these pieces can be used together to form a complete ODS application:</p>
<ul class="simple">
<li><p>We configure two applications, one for the “front” view and one for the “back” view,</p></li>
<li><p>We start streaming data from the front view and display it,</p></li>
<li><p>After some seconds, we switch view to use the “back” view, and display the data,</p></li>
<li><p>In parallel, we display the diagnostic messages as they are received from the O3R.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To explore general usage of the ifm3d API, refer to the following examples: <a class="reference external" href="https://api.ifm3d.com/latest/examples/index.html"></a></p>
</div>
</div>
<div class="section" id="additional-considerations">
<h2>Additional considerations<a class="headerlink" href="#additional-considerations" title="Permalink to this headline"></a></h2>
<p>The scripts mentioned above do not take into account all that is necessary for a production application to function long term. We de not handle deployment details, for instance using docker, or specific error handling strategies, like turning off cameras if overheating or restarting the data stream if it was interrupted.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index_ifmODS_cpp.html" class="btn btn-neutral float-left" title="C++ examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ods_config.html" class="btn btn-neutral float-right" title="How to configure ODS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, ifm CSR.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>